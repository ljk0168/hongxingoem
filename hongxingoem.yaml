#åŸºç¡€é…ç½®
# æ—¥æœŸï¼š2025-01-05

# é€‚ç”¨ç‰ˆæœ¬ï¼šé€‚é…ä½¿ç”¨openclashå†…æ ¸çš„ç¨‹åº


# é”šç‚¹
pr: &pr {type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ åŠ å¡èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, ğŸŸ¢ ç›´è¿]}
pe: &pe {type: select, proxies: [ğŸŸ¢ ç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ åŠ å¡èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}

# æœºåœºè®¢é˜…
proxy-providers:
  çº¢æåŠ é€Ÿå™¨:
    type: http
    interval: 21600
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    url: "è®¢é˜…é“¾æ¥"


# ç”¨äºä¸‹è½½è®¢é˜…æ—¶æŒ‡å®šUA
global-ua: clash.meta

# å…¨å±€é…ç½®
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7894
log-level: info
ipv6: true
allow-lan: true
unified-delay: true   # ç»Ÿä¸€å»¶è¿Ÿ
tcp-concurrent: true


geodata-mode: false

geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geosite: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.metadb"
  geoip: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"
  asn: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb"



find-process-mode: strict
global-client-fingerprint: chrome
keep-alive-idle: 600
keep-alive-interval: 30


profile:
  store-selected: true
  store-fake-ip: true


sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - +.v2ex.com
  skip-domain:
    - "Mijia Cloud"
    - "dlg.io.mi.com"
    - "+.push.apple.com"
    - "+.apple.com"

# ä»£ç†æ¨¡å¼
tun:
  enable: true
  stack: mixed
  mtu: 9000
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

# DNSæ¨¡å—
dns:
  cache-algorithm: arc
  enable: true
  listen: 0.0.0.0:53
  ipv6: false
  respect-rules: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.0/15
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - geosite:private
    - geosite:cn
    - "+.lan"
    - "connect.rom.miui.com"
    - "+.miwifi.com"
    - "+.ntp.org"
    - "+.u-tools.cn"
    - "+.mediatek.com"
    - "+.cfprefer1.xyz"
    - "+.wetab.link"
    # QQ
    - "localhost.ptlogin2.qq.com"
    - "localhost.sec.qq.com"
    # WeChat
    - "localhost.work.weixin.qq.com"
    - "+.weixin.qq.com"
    - "+.wechat.com"
    # Windows
    - "time.windows.com"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "+.wpsmail.net"
    - "+.henzanapp.com"
    - "+.pconline.com.cn"
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
  proxy-server-nameserver:
    - 8.8.8.8
    - 1.1.1.1
  fallback:
    - 8.8.8.8
    - 1.1.1.1
    - tls://1.0.0.1:853
    - tls://dns.google:853


proxies:
  - name: "ğŸŸ¢ ç›´è¿"
    type: direct
    udp: true


# ç­–ç•¥ç»„
proxy-groups:
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ åŠ å¡èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, ğŸŸ¢ ç›´è¿]}

  - {name: ğŸ“¹ YouTube, <<: *pr}
  - {name: ğŸ€ Google, <<: *pr}
  - {name: ğŸ®ï¸ SteamCN, <<: *pe}
  - {name: ğŸ®ï¸ Steam, <<: *pr}
  - {name: ğŸ¤– OpenAi, <<: *pr}
  - {name: â“‚ï¸ Copilot, <<: *pr}
  - {name: ğŸ“¢ è°·æ­ŒFCM, <<: *pr}
  - {name: ğŸ‘¨ğŸ¿â€ğŸ’» GitHub, <<: *pr}
  - {name: ğŸªŸ Microsoft, <<: *pe}
  - {name: ğŸµ TikTok, <<: *pr}
  - {name: ğŸ“² Telegram, <<: *pr}
  - {name: ğŸ•Šï¸ Twitter, <<: *pr}
  - {name: ğŸ§¸ myTVSUPER, <<: *pr}
  - {name: ğŸ¥ NETFLIX, <<: *pr}
  - {name: ğŸ¥ Emby, <<: *pr}
  - {name: ğŸ» Spotify, <<: *pr}
  - {name: ğŸ’¶ PayPal, <<: *pr}
  - {name: ğŸ Apple, <<: *pr}
  - {name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [ğŸŸ¢ ç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, <<: *pr}

  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)é¦™æ¸¯|hk|hongkong|hong kong" }
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)å°æ¹¾|twn|taiwan|å°åŒ—|é«˜é›„" }
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ—¥æœ¬|jp|japan" }
  - {name: ğŸ‡¸ğŸ‡¬ åŠ å¡èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ–°åŠ å¡|sg|singapore" }
  - {name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)ç¾å›½|us|united states|united states" }
  - {name: ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, type: select, include-all: true}
    
  

rules:
  - RULE-SET,Lan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,direct,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Custom_Direct,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,FCM,ğŸ“¢ è°·æ­ŒFCM
  - RULE-SET,googleCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GoogleCNProxyIP,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,steamCN,ğŸ®ï¸ SteamCN
  - RULE-SET,steamCDN,ğŸ®ï¸ SteamCN
  - RULE-SET,telegram,ğŸ“² Telegram
  - RULE-SET,OpenAi,ğŸ¤– OpenAi
  - RULE-SET,Copilot,â“‚ï¸ Copilot
  - RULE-SET,github,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub
  - RULE-SET,Apple,ğŸ Apple
  - RULE-SET,Microsoft,ğŸªŸ Microsoft
  - RULE-SET,Youtube,ğŸ“¹ YouTube
  - RULE-SET,Google,ğŸ€ Google
  - RULE-SET,TikTok,ğŸµ TikTok
  - RULE-SET,Twitter,ğŸ•Šï¸ Twitter
  - RULE-SET,myTVSUPER,ğŸ§¸ myTVSUPER
  - RULE-SET,Netflix,ğŸ¥ NETFLIX
  - RULE-SET,Emby,ğŸ¥ Emby
  - RULE-SET,Spotify,ğŸ» Spotify
  - RULE-SET,ChinaMedia,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GlobalMedia,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,steam,ğŸ®ï¸ Steam
  - RULE-SET,ProxyGFWlist,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,PayPal,ğŸ’¶ PayPal
  - GEOSITE,CN,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,Lan,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

rule-anchor:
  ljk: &ljk { type: http, interval: 86400, behavior: classical, format: text }
  ACL4SSR: &ACL4SSR { type: http, interval: 86400, behavior: classical, format: text }
  blackmatrix7: &blackmatrix7 { type: http, interval: 86400, behavior: classical, format: text }
rule-providers:
 
  FCM: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/GoogleFCM/GoogleFCM.list" }
  googleCN: { <<: *ACL4SSR, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/GoogleCN.list" }
  GoogleCNProxyIP: { <<: *ACL4SSR, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/GoogleCNProxyIP.list" }
  OpenAi: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/OpenAI/OpenAI.list" }
  Copilot: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Copilot/Copilot.list" }
  Youtube: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/YouTube/YouTube.list" }
  Google: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Google/Google.list" }
  steamCDN: { <<: *ljk, url: "https://raw.githubusercontent.com/ljk0168/clashmoban2/refs/heads/main/rule/Steam_CDN.list" }
  steam: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Steam/Steam.list" }
  github: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/GitHub/GitHub.list" }
  telegram: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Telegram/Telegram.list" }
  Twitter: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.list" }
  myTVSUPER: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/myTVSUPER/myTVSUPER.list" }
  Netflix: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Netflix/Netflix.list" }
  Emby: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Emby/Emby.list" }
  Emby: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/ljk0168/clashmoban2/refs/heads/main/rule/emby.list" }
  Spotify: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.list" }
  steamCN: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/SteamCN/SteamCN.list" }
  PayPal: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/PayPal/PayPal.list" }
  Microsoft: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Microsoft/Microsoft.list" }
  Apple: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Apple/Apple.list" }
  TikTok: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/TikTok/TikTok.list" }
  ProxyGFWlist: { <<: *ACL4SSR, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list" }
  ChinaMedia: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMedia/ChinaMedia.list" }
  GlobalMedia: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMedia/ChinaMedia.list" }
  ChinaDomain: { <<: *ACL4SSR, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/ChinaDomain.list" }
  ChinaCompanyIp: { <<: *ACL4SSR, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/ChinaCompanyIp.list" }
  ChinaIp: { <<: *ACL4SSR, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/ChinaIp.list" }
  Download: { <<: *blackmatrix7, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Download/Download.list" }

